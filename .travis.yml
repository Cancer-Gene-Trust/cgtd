language: python
sudo: required
services:
  - docker

env:
  DOCKER_COMPOSE_VERSION: 1.8.0

branches:
  - master
  - no_init_bad_port
python:
  - '2.7'
install:
  - pip install pycodestyle
  - pip install flake8
script:
  - pycodestyle --max-line-length=150 .
  - make ipfs
  - sleep 5 # Wait for ipfs docker container init
  - make reset
  - make run
  - make test
notifications:
  email: false
  slack:
    secure: QOPJSDD0cwhPzcgV9ypNl1GlcstBOw4yUQyKssTfKgFLBNKF/cXbdgDPz859kUqvfCjlCMwx6LZmQ0D7IOoDrUEcdpBFXbbJ4Xl6U39S1uLUfMCkE5MSp3eO7EnpE2F1crFhH4iPWyxTBIyGra2l2bU0BhPBz1+HS1HpNU5VWM6QPcFmjpv/o4EiD4pUpM7y8lioi2+XVhgy5q7YMvrcmTnnLPl0Xh8K10HcFQYrK5B8SC9o7E6nMYhKm9tR1J8MAdnK15U7hbMBPp7WRVh72poKbiPnWrhavGXk399xrAfsQi1IuS9FKfwpPwrmWP2HG1dZjcar+H9B6W3ucyNniu+M0/bx0RjzYHpAJ2+lcDrNbHuQ/c0+1hAiXR99XZHiMSzS+C12L8QxKGDV3E57wwJNaJ/3FkVaIJHPbBlsN/e02UUIqcgrjVVrlFi+vFCQn30zMfgdhClZ71Q3iwk+pwuTtvbNeC0gXIbPsNtVpxNdMoUJjMkHLA51kjL9I4kXDrPqlX9WqlnHIva1f46sW0cQhSMa54YhXoiO5NFxSfPBtaT4YnYGjAmLJmjT6qrPDDQsuUGfgMUvkaTkrsCMCTeR0TMQPTLwqiRtUuJH5osKpNSeyrOl308To5JHXJn9xeDSeFpnbwujvM8SlE+Ls5MUYVS1mvOF1TrfkZJddaY=
